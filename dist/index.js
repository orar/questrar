!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-floater")):"function"==typeof define&&define.amd?define(["exports","react","react-floater"],t):t(e.Questrar={},e.React,e.Floater)}(this,function(e,t,i){"use strict";var z="default"in t?t.default:t;function r(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var n=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===r&&n.firstChild?n.insertBefore(i,n.firstChild):n.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}i=i&&i.hasOwnProperty("default")?i.default:i;r(".RequestError_requestErrorContainer__1hzNF{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;font-size:20px;color:#aaa}");var f=process.env.NODE_ENV,x=function(e,t,r,n,i,o,a,s){if("production"!==f&&void 0===t)throw Error("invariant requires an error message argument");if(!e){var c;if(void 0===t)c=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,i,o,a,s],l=0;(c=Error(t.replace(/%s/g,function(){return u[l++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}},s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}(),l=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},d=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},_=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},c=function(e){var t=e;return t.pending=!1,t.success=!1,t.failed=!1,t.message&&delete t.message,t};function A(e){return"function"==typeof e}function I(e){return!!e&&"object"===(void 0===e?"undefined":s(e))}function v(e){return"number"==typeof e}function m(e){return null!=e}var F=function(e){function o(){var e,t,a;u(this,o);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=a=_(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)))).state={open:!0},a._closeTooltip=function(){var e=a.props,t=e.id,r=e.actions,n=e.onCloseError,i=e.request;a.state.open&&A(n)&&n(t),a.state.open&&(i.autoRemove||i.removeOnFail)&&r.remove(t),a.setState({open:!1})},a._children=function(){var e=a.props,t=e.children,r=e.inject,n={request:{data:e.request,actions:e.actions}};if(z.isValidElement(t)){if("function"==typeof r){var i=r(n),o=i&&"object"===(void 0===i?"undefined":s(i))?i:{request:i};return z.cloneElement(t,o)}if(r)return z.cloneElement(t,n)}return t},a._createTooltip=function(){return z.createElement("div",{className:"tooltipContentWrap",onClick:a._closeTooltip},a.props.request.message)},a._styles=function(){return{floater:{filter:"unset",maxWidth:"content-box"},container:{cursor:"auto",backgroundColor:"#b1462a",color:"#fff",minHeight:20,padding:5,borderRadius:3},arrow:{color:"#b1462a",display:"inline-flex",length:7,position:"absolute",spread:14}}},_(a,t)}return d(o,z.Component),n(o,[{key:"componentWillUnmount",value:function(){this._closeTooltip()}},{key:"render",value:function(){var e=this.props,t=e.request,r=e.passiveOnError;return e.errorTooltip&&t.message?z.createElement(i,{offset:1,open:this.state.open,content:this._createTooltip(),placement:"auto",styles:this._styles()},z.createElement("span",null,this._children())):r?this._children():z.createElement("div",{className:"requestErrorContainer"},z.createElement("div",null,t.message?t.message:"An error occurred. Please try again later."))}}]),o}();r(".RequestLoading_requestLoadingContainer__1isJR{width:100%;display:flex;justify-content:center;align-items:center}");r('.Spinner_sk-fading-circle__2TIzi{margin:4px auto;width:40px;height:40px;position:relative}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle__1UQom{width:100%;height:100%;position:absolute;left:0;top:0}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle__1UQom:before{content:"";display:block;margin:0 auto;width:6%;height:25%;background-color:#333;border-radius:100%;-webkit-animation:Spinner_sk-circleFadeDelay__2XvJS 1.2s ease-in-out infinite both;animation:Spinner_sk-circleFadeDelay__2XvJS 1.2s ease-in-out infinite both}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle2__23B3o{-webkit-transform:rotate(30deg);-ms-transform:rotate(30deg);transform:rotate(30deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle3__1e3ns{-webkit-transform:rotate(60deg);-ms-transform:rotate(60deg);transform:rotate(60deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle4__lT2oD{-webkit-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle5__1_Vn0{-webkit-transform:rotate(120deg);-ms-transform:rotate(120deg);transform:rotate(120deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle6__2bnOi{-webkit-transform:rotate(150deg);-ms-transform:rotate(150deg);transform:rotate(150deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle7__23PYl{-webkit-transform:rotate(180deg);-ms-transform:rotate(180deg);transform:rotate(180deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle8__3V4nz{-webkit-transform:rotate(210deg);-ms-transform:rotate(210deg);transform:rotate(210deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle9__2Whai{-webkit-transform:rotate(240deg);-ms-transform:rotate(240deg);transform:rotate(240deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle10__1vD20{-webkit-transform:rotate(270deg);-ms-transform:rotate(270deg);transform:rotate(270deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle11__2ve6V{-webkit-transform:rotate(300deg);-ms-transform:rotate(300deg);transform:rotate(300deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle12__3pifQ{-webkit-transform:rotate(330deg);-ms-transform:rotate(330deg);transform:rotate(330deg)}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle2__23B3o:before{-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle3__1e3ns:before{-webkit-animation-delay:-1s;animation-delay:-1s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle4__lT2oD:before{-webkit-animation-delay:-.9s;animation-delay:-.9s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle5__1_Vn0:before{-webkit-animation-delay:-.8s;animation-delay:-.8s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle6__2bnOi:before{-webkit-animation-delay:-.7s;animation-delay:-.7s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle7__23PYl:before{-webkit-animation-delay:-.6s;animation-delay:-.6s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle8__3V4nz:before{-webkit-animation-delay:-.5s;animation-delay:-.5s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle9__2Whai:before{-webkit-animation-delay:-.4s;animation-delay:-.4s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle10__1vD20:before{-webkit-animation-delay:-.3s;animation-delay:-.3s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle11__2ve6V:before{-webkit-animation-delay:-.2s;animation-delay:-.2s}.Spinner_sk-fading-circle__2TIzi .Spinner_sk-circle12__3pifQ:before{-webkit-animation-delay:-.1s;animation-delay:-.1s}@-webkit-keyframes Spinner_sk-circleFadeDelay__2XvJS{0%,39%,to{opacity:0}40%{opacity:1}}@keyframes Spinner_sk-circleFadeDelay__2XvJS{0%,39%,to{opacity:0}40%{opacity:1}}');var o=function(e){var t=e.size,r={},n=v(t)?t:40;return Object.assign(r,{width:n,height:n}),z.createElement("div",{style:r,className:"sk-fading-circle"},z.createElement("div",{style:r,className:"sk-circle1 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle2 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle3 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle4 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle5 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle6 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle7 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle8 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle9 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle10 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle11 sk-circle"}),z.createElement("div",{style:r,className:"sk-circle12 sk-circle"}))},N=function(e){return z.createElement("div",{className:"requestLoadingContainer"},z.createElement(o,{size:20,color:e.color}))};r(".RequestSuccess_requestSuccessContainer__26C8B{width:100%;height:100%;display:flex;justify-content:center;align-items:center;text-align:center;font-size:20px}");var V=function(e){function o(){var e,t,a;u(this,o);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=a=_(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)))).state={open:!0},a._defaultSuccessMessage="Request Successful",a._closeTooltip=function(){var e=a.props,t=e.id,r=e.actions,n=e.onCloseSuccess,i=e.request;a.state.open&&A(n)&&n(t),a.state.open&&(i.autoRemove||i.removeOnSuccess)&&r.remove(t),a.setState({open:!1})},a._children=function(){var e=a.props,t=e.children,r=e.inject,n={request:{data:e.request,actions:e.actions}};if(z.isValidElement(t)){if("function"==typeof r){var i=r(n),o=i&&"object"===(void 0===i?"undefined":s(i))?i:{request:i};return z.cloneElement(t,o)}if(r)return z.cloneElement(t,n)}return t},a._createTooltip=function(){return z.createElement("div",{className:"tooltipContentWrap",onClick:a._closeTooltip},a.props.request.message)},a._styles=function(){return{floater:{filter:"unset",maxWidth:"content-box"},container:{cursor:"auto",backgroundColor:"#71aa6f",color:"#fff",minHeight:20,padding:5,borderRadius:3},arrow:{color:"#78b176",display:"inline-flex",length:7,position:"absolute",spread:14}}},_(a,t)}return d(o,z.Component),n(o,[{key:"componentWillUnmount",value:function(){this._closeTooltip()}},{key:"render",value:function(){var e=this.props,t=e.children,r=e.successTooltip,n=e.request;return e.successReplace?z.createElement("div",{className:"requestSuccessContainer"},z.createElement("div",null,n.message?n.message:this._defaultSuccessMessage)):r&&n.message?z.createElement(i,{offset:1,open:this.state.open,content:this._createTooltip(),placement:"auto",styles:this._styles()},z.createElement("span",null,this._children())):t}}]),o}(),g="pending",y="success",h="failed",a="replace",b="remove",S={pending:!1,success:!1,failed:!1,successCount:0,failureCount:0,message:""},k=z.createContext({}),j=k.Provider,O=k.Consumer,w=Array.isArray,E="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function q(e,t){return e(t={exports:{}},t.exports),t.exports}var R="object"==typeof E&&E&&E.Object===Object&&E,T="object"==typeof self&&self&&self.Object===Object&&self,P=R||T||Function("return this")(),C=P.Symbol,D=Object.prototype,M=D.hasOwnProperty,U=D.toString,W=C?C.toStringTag:void 0;var B=function(e){var t=M.call(e,W),r=e[W];try{e[W]=void 0}catch(e){}var n=U.call(e);return t?e[W]=r:delete e[W],n},$=Object.prototype.toString;var Q=function(e){return $.call(e)},J=C?C.toStringTag:void 0;var L=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?B(e):Q(e)};var X=function(e){return null!=e&&"object"==typeof e};var H=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};var Y,G=function(e){if(!H(e))return!1;var t=L(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},K=P["__core-js_shared__"],Z=(Y=/[^.]+$/.exec(K&&K.keys&&K.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"";var ee=function(e){return!!Z&&Z in e},te=Function.prototype.toString;var re=function(e){if(null!=e){try{return te.call(e)}catch(e){}try{return e+""}catch(e){}}return""},ne=/^\[object .+?Constructor\]$/,ie=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var oe=function(e){return!(!H(e)||ee(e))&&(G(e)?ie:ne).test(re(e))};var ae=function(e,t){return null==e?void 0:e[t]};var se=function(e,t){var r=ae(e,t);return oe(r)?r:void 0},ce=se(Object,"create");var ue=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},le=Object.prototype.hasOwnProperty;var fe=function(e){var t=this.__data__;if(ce){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return le.call(t,e)?t[e]:void 0},pe=Object.prototype.hasOwnProperty;var de=function(e){var t=this.__data__;return ce?void 0!==t[e]:pe.call(t,e)};var _e=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ce&&void 0===t?"__lodash_hash_undefined__":t,this};function ve(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}ve.prototype.clear=function(){this.__data__=ce?ce(null):{},this.size=0},ve.prototype.delete=ue,ve.prototype.get=fe,ve.prototype.has=de,ve.prototype.set=_e;var me=ve;var ge=function(e,t){return e===t||e!=e&&t!=t};var ye=function(e,t){for(var r=e.length;r--;)if(ge(e[r][0],t))return r;return-1},he=Array.prototype.splice;var be=function(e){var t=this.__data__,r=ye(t,e);return 0<=r&&(r==t.length-1?t.pop():he.call(t,r,1),--this.size,!0)};var Se=function(e){var t=this.__data__,r=ye(t,e);return r<0?void 0:t[r][1]};var ke=function(e){return-1<ye(this.__data__,e)};var je=function(e,t){var r=this.__data__,n=ye(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function Oe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Oe.prototype.clear=function(){this.__data__=[],this.size=0},Oe.prototype.delete=be,Oe.prototype.get=Se,Oe.prototype.has=ke,Oe.prototype.set=je;var we=Oe,Ee=se(P,"Map");var qe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};var Re=function(e,t){var r=e.__data__;return qe(t)?r["string"==typeof t?"string":"hash"]:r.map};var Te=function(e){var t=Re(this,e).delete(e);return this.size-=t?1:0,t};var Pe=function(e){return Re(this,e).get(e)};var Ce=function(e){return Re(this,e).has(e)};var ze=function(e,t){var r=Re(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function xe(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}xe.prototype.clear=function(){this.size=0,this.__data__={hash:new me,map:new(Ee||we),string:new me}},xe.prototype.delete=Te,xe.prototype.get=Pe,xe.prototype.has=Ce,xe.prototype.set=ze;var Ae=xe,Ie="Expected a function";function Fe(i,o){if("function"!=typeof i||null!=o&&"function"!=typeof o)throw new TypeError(Ie);var a=function(){var e=arguments,t=o?o.apply(this,e):e[0],r=a.cache;if(r.has(t))return r.get(t);var n=i.apply(this,e);return a.cache=r.set(t,n)||r,n};return a.cache=new(Fe.Cache||Ae),a}Fe.Cache=Ae;var Ne=Fe;var Ve=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,De=/\\(\\)?/g;Me=function(e){var i=[];return 46==e.charCodeAt(0)&&i.push(""),e.replace(Ve,function(e,t,r,n){i.push(r?n.replace(De,"$1"):t||e)}),i},Ue=Ne(Me,function(e){return 500===We.size&&We.clear(),e}),We=Ue.cache;var Me,Ue,We;var Be,$e=(Be=function(e){var t=e.id,r=e.request,n=e.actions,i=e.children,o=e.renderFailure,a=e.failTooltip,s=e.onCloseFailure,c=e.onFailure,u=e.passiveOnFailure,l=e.renderLoading,f=e.passivePending,p=e.initialPending,d=e.renderInitial,_=e.successTooltip,v=e.successReplace,m=e.onCloseSuccess,g=e.inject;x(null!=t,"No request state id is provided as a prop");var y={request:{data:r,actions:n}};if(r.pending&&!f){if(A(l))return l(r);if(l&&A(g)){var h=g(y),b=I(h)?h:{request:h};return z.cloneElement(l,b)}return l&&g?z.cloneElement(l,y):z.isValidElement(l)?l:z.createElement(N,null)}if(r.pending&&f){var S=1===z.Children.count(i);if(S&&A(g)){var k=g(y),j=I(k)?k:{request:k};return z.cloneElement(i,j)}return S&&g?z.cloneElement(i,y):i}if(r.failed){if(A(c)&&c(r),A(o))return o(r);if(z.isValidElement(o)){if(A(g)){var O=g(y),w=I(O)?O:{request:O};return z.cloneElement(o,w)}return g?z.cloneElement(o,r):o}return z.createElement(F,{id:t,request:r,onCloseError:s,failure:r.failed,errorTooltip:a,inject:g,actions:n,passiveOnError:u},i)}if(r.success){if(_||v)return z.createElement(V,{id:t,request:r,success:r.success,successReplace:v,successTooltip:_,onCloseSuccess:m,inject:g,actions:n},i);var E=1===z.Children.count(i);if(E&&A(g)){var q=g(y),R=I(q)?q:{request:q};return z.cloneElement(i,R)}return g&&E?z.cloneElement(i,y):i}if(p)return A(d)?d(y):!d&&l?A(l)?l(y):l:z.isValidElement(d)?d:z.createElement(N,null);if(g){var T=1===z.Children.toArray(i).length;if(T&&A(g)){var P=g(y),C=I(P)?P:{request:P};return z.cloneElement(i,C)}if(T)return z.cloneElement(i,y)}return i},function(e){function a(){var e,t,n;u(this,a);for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return(t=n=_(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(i))))._getRequest=function(e){return n.props.id&&Object.hasOwnProperty.call(e,n.props.id)?e[n.props.id]:S},n.renderComponent=function(e){var t=n._getRequest(e.data),r=Object.assign({},t,{id:n.props.id});return z.createElement(Be,p({},n.props,{actions:e.actions,request:r}))},_(n,t)}return d(a,z.Component),n(a,[{key:"render",value:function(){return z.createElement(O,null,this.renderComponent)}}]),a}()),Qe=function(e){function o(){var e,t,s;u(this,o);for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(t=s=_(this,(e=o.__proto__||Object.getPrototypeOf(o)).call.apply(e,[this].concat(n)))).state={data:{}},s._hasStore=function(){return m(s.props.stateProvider)},s._getRequestStateFromProvider=function(){return s._hasStore()?s.props.stateProvider.getState():{}},s._getRequestStateFromState=function(){return Object.assign({},s.state.data)},s._getRequestState=function(){return s._hasStore()?s._getRequestStateFromProvider():s._getRequestStateFromState()},s._putRequestState=function(e){if(s._hasStore())return s.props.stateProvider.putState(e);s.setState({data:e})},s._applyStateChange=function(a){return function(e){if("function"==typeof e){var t=s._getRequestState(),r=Object.hasOwnProperty.call(t,a),n=c(Object.assign({},r?t[a]:S));n.id=a;var i=e(n),o=Object.assign({},t,l({},a,i));s._putRequestState(o)}}},s._requestSuccessful=function(e,r){if(s._hasStore())return s.props.stateProvider.updateRequest({id:e,message:r,status:y});s._applyStateChange(e)(function(e){var t=e;return t.success=!0,t.successCount+=1,r&&(t.message=r),t})},s._requestFailed=function(e,r){if(s._hasStore())return s.props.stateProvider.updateRequest({id:e,message:r,status:h});s._applyStateChange(e)(function(e){var t=e;return t.failed=!0,t.failureCount+=1,r&&(t.message=r),t})},s._requestPending=function(e,r){if(s._hasStore())return s.props.stateProvider.updateRequest({id:e,message:r,status:g});s._applyStateChange(e)(function(e){var t=e;return t.pending=!0,r&&(t.message=r),t})},s._removeRequest=function(e){if(s._hasStore())return s.props.stateProvider.updateRequest({id:e,status:b});var t=s._getRequestState();if(Object.hasOwnProperty.call(t,e)){var r=t;delete r[e],s._putRequestState(r)}},s._requestActions=function(){return{success:s._requestSuccessful,failed:s._requestFailed,pending:s._requestPending,remove:s._removeRequest}},_(s,t)}return d(o,t.PureComponent),n(o,[{key:"componentDidMount",value:function(){var t=this;this._hasStore()&&A(this.props.stateProvider.observe)&&this.props.stateProvider.observe(function(e){e&&t.forceUpdate()})}},{key:"render",value:function(){var e=this.props.children,t=this._getRequestState(),r=this._requestActions();return z.createElement(j,{value:{data:t,actions:r}},e)}}]),o}(),Je=Object.prototype;var Le=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Je)};var Xe=function(t,r){return function(e){return t(r(e))}}(Object.keys,Object),He=Object.prototype.hasOwnProperty;var Ye=function(e){if(!Le(e))return Xe(e);var t=[];for(var r in Object(e))He.call(e,r)&&"constructor"!=r&&t.push(r);return t},Ge=se(P,"DataView"),Ke=se(P,"Promise"),Ze=se(P,"Set"),et=se(P,"WeakMap"),tt="[object Map]",rt="[object Promise]",nt="[object Set]",it="[object WeakMap]",ot="[object DataView]",at=re(Ge),st=re(Ee),ct=re(Ke),ut=re(Ze),lt=re(et),ft=L;(Ge&&ft(new Ge(new ArrayBuffer(1)))!=ot||Ee&&ft(new Ee)!=tt||Ke&&ft(Ke.resolve())!=rt||Ze&&ft(new Ze)!=nt||et&&ft(new et)!=it)&&(ft=function(e){var t=L(e),r="[object Object]"==t?e.constructor:void 0,n=r?re(r):"";if(n)switch(n){case at:return ot;case st:return tt;case ct:return rt;case ut:return nt;case lt:return it}return t});var pt=ft;var dt=function(e){return X(e)&&"[object Arguments]"==L(e)},_t=Object.prototype,vt=_t.hasOwnProperty,mt=_t.propertyIsEnumerable,gt=dt(function(){return arguments}())?dt:function(e){return X(e)&&vt.call(e,"callee")&&!mt.call(e,"callee")};var yt=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991};var ht=function(e){return null!=e&&yt(e.length)&&!G(e)};var bt=function(){return!1},St=q(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r?P.Buffer:void 0;e.exports=(i?i.isBuffer:void 0)||bt}),kt={};kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt["[object Arguments]"]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object Boolean]"]=kt["[object DataView]"]=kt["[object Date]"]=kt["[object Error]"]=kt["[object Function]"]=kt["[object Map]"]=kt["[object Number]"]=kt["[object Object]"]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object WeakMap]"]=!1;var jt=function(e){return X(e)&&yt(e.length)&&!!kt[L(e)]};var Ot=function(t){return function(e){return t(e)}},wt=q(function(e,t){var r=t&&!t.nodeType&&t,n=r&&e&&!e.nodeType&&e,i=n&&n.exports===r&&R.process,o=function(){try{var e=n&&n.require&&n.require("util").types;return e||i&&i.binding&&i.binding("util")}catch(e){}}();e.exports=o}),Et=wt&&wt.isTypedArray,qt=Et?Ot(Et):jt,Rt=Object.prototype.hasOwnProperty;var Tt=function(e){if(null==e)return!0;if(ht(e)&&(w(e)||"string"==typeof e||"function"==typeof e.splice||St(e)||qt(e)||gt(e)))return!e.length;var t=pt(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(Le(e))return!Ye(e).length;for(var r in e)if(Rt.call(e,r))return!1;return!0};var Pt="__QUESTRAR_REQUEST_";function Ct(e,t){var r,n,i,o=Pt,a=m(e)&&("string"==typeof e||v(e)),s=m(t),c=s&&t.autoRemove,u=s&&t.autoRemoveOnSuccess,l=s&&t.autoRemoveOnFailure,f=a?e:(n="number"==typeof r&&r<15&&0<r?r:10,i=Math.random(),(""+parseInt(i*Math.pow(10,n))).split("").map(function(e){return String.fromCharCode(+e+97)}).join("")),p=function(e,t,r){var n={type:o,id:e,status:t};return m(r)&&(n.message=r),n};function d(){return f}return d.toString=function(){return f},d.id=f,d.pending=function(e){return p(f,g,e)},d.success=function(e,t){var r=p(f,y,e);return r.autoRemoveOnSuccess=m(t)?t:l,Object.assign(r,{autoRemove:c,autoRemoveOnSuccess:u})},d.failed=function(e,t){var r=p(f,h,e);return r.autoRemoveOnFailure=m(t)?t:l,Object.assign(r,{autoRemove:c})},d.remove=function(){return p(f,b)},d}function zt(e,t){var r=e;return t.autoRemove&&(r.autoRemove=!0),t.autoRemoveOnSuccess&&(r.removeOnSuccess=!0,r.autoRemove&&delete r.autoRemove),t.autoRemoveOnFailure&&(r.removeOnFail=!0,r.autoRemove&&delete r.autoRemove),r}function xt(e,t){return Object.hasOwnProperty.call(e,t)?Object.assign({},e[t]):S}function At(e,t){t.message&&(e.message=t.message)}var It=l({},Pt,function(e,t){var r=Object.assign({},e);switch(t.status){case g:return function(e,t){x(m(t.id),"request action missing id field");var r=t.id,n=c(xt(e,r));return n.id=r,n.pending=!0,At(n,t),Object.assign({},e,l({},r,n))}(r,t);case y:return function(e,t){x(m(t.id),"request state action missing id field");var r=t.id,n=c(xt(e,r));return n.id=r,n.success=!0,n.successCount+=1,At(n,t),zt(n,t),Object.assign({},e,l({},r,n))}(r,t);case h:return function(e,t){x(m(t.id),"request state action missing id field");var r=t.id,n=c(xt(e,r));return n.id=r,n.failed=!0,n.failureCount+=1,At(n,t),zt(n,t),Object.assign({},e,l({},r,n))}(r,t);case a:return Object.assign({},t.state);case b:return function(e,t){x(m(t.id),"request action missing id field");var r=t.id;if(Object.hasOwnProperty.call(e,r)){var n=Object.assign({},e);return delete n[r],n}return Object.assign({},e)}(r,t);default:return r}}),Ft=Object.freeze({createRequestState:Ct,createStateProvider:function(t,e){var i=t,o=(e||"")+"."+Pt;function r(){for(var e=i.getState(),t=o.split("."),r=e,n=0;n<t.length;n++)t[n]&&Object.hasOwnProperty.call(r,t[n])&&(r=e[t[n]]);return r}return{getState:r,putState:function(e){i.dispatch({type:a,payload:e})},observe:function(e){return t.subscribe(function(){if(r())return e(!0);e(!1)})},updateRequest:function(e){var t=Ct(e.id,e),r=void 0;switch(e.status){case g:r=t.pending(e.message);break;case h:r=t.failed(e.message);break;case y:r=t.success(e.message);break;case b:r=t.remove()}m(r)&&i.dispatch(r)},path:o}},requestStateReducer:It});e.Request=$e,e.Provider=Qe,e.withRequest=function(c){return function(s){return function(e){function a(){var e,t,i;u(this,a);for(var r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=i=_(this,(e=a.__proto__||Object.getPrototypeOf(a)).call.apply(e,[this].concat(n))))._getIds=function(){var e=[];if(c){if(A(c.id)){var t=c.id(i.props);t&&(e=e.concat(Array.isArray(t)?t:[t]))}else c.id&&(e=e.concat(Array.isArray(c.id)?c.id:[c.id]));(c.mergeIdSources||0===e.length)&&i.props.id&&(e=e.concat(Array.isArray(i.props.id)?i.props.id:[i.props.id]))}return e},i._getRequest=function(e){var t=i._getIds();if(!Array.isArray(t)||0===t.length)return{};if(Tt(e))return 1===t.length?Object.assign({},S,{id:t[0]}):t.reduce(function(e,t){var r=Object.assign({},S,{id:t});return Object.assign({},e,l({},t,r))},{});var r=function(e,t,r){if(x(m(e),"No object has been provided for keys extraction"),x(m(t),"There are no keys provided for values extraction"),"string"==typeof t)return A(r)?[r(t,e)]:Object.hasOwnProperty.call(e,t)?[e[t]]:[];for(var n=[],i=0;i<t.length;i++)if(A(r)){var o=r(t[i],e);n.push(o)}else Object.hasOwnProperty.call(e,t[i])&&n.push(e[t[i]]);return n}(e,t,function(e,t){return Object.hasOwnProperty.call(t,e)?Object.assign({},t[e],{id:e}):Object.assign({},S,{id:e})});if(1!==t.length)return r.reduce(function(e,t){return e[t.id]=t,e},{});var n=r.find(function(e){return e.id===t[0]});return m(n)?n:Object.assign({},S,{id:t[0]})},i.renderComponent=function(e){var t=i._getRequest(e.data),r=Object.assign({},{data:t,actions:e.actions});return z.createElement(s,p({},i.props,{request:r}))},_(i,t)}return d(a,z.Component),n(a,[{key:"render",value:function(){return z.createElement(O,null,this.renderComponent)}}]),a}()}},e.redux=Ft,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index.js.map
